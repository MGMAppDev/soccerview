{
  "permissions": {
    "allow": [
      "Bash(node -e:*)",
      "Bash(node scripts/reconcileRankedTeams.js:*)",
      "WebFetch(domain:www.heartlandsoccer.net)",
      "WebFetch(domain:heartlandsoccer.net)",
      "WebFetch(domain:calendar.heartlandsoccer.net)",
      "WebFetch(domain:reports.heartlandsoccer.net)",
      "WebFetch(domain:docs.htgsports.net)",
      "WebFetch(domain:api.htgsports.net)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "WebFetch(domain:www.kansascitysoccertournament.com)",
      "WebFetch(domain:calendar.bluesombrero.com)",
      "WebFetch(domain:www.htgsports.net)",
      "WebFetch(domain:events.htgsports.net)",
      "Bash(node scripts/migrations/add_source_tracking_indexes.js:*)",
      "Bash(timeout:*)",
      "Bash(node scripts/scrapeHTGSports.js:*)",
      "Bash(node scripts/scrapeHeartlandLeague.js:*)",
      "Bash(node scripts/diagnoseHTGSports.js:*)",
      "Bash(Select-String -Path \"scripts/htgsports_dom_dump.html\" -Pattern \"table-striped|select.*class|dropdown|division\" -Context 0,2)",
      "Bash(Select-Object -First 30)",
      "Bash(node scripts/diagnoseHeartlandLeague.js:*)",
      "Bash(node scripts/diagnoseHeartlandTeamEvents.js:*)",
      "Bash(node scripts/fastLinkV3.js:*)",
      "Bash(node:*)",
      "Bash(wc:*)",
      "Bash(done)",
      "Bash(pkill:*)",
      "Bash(taskkill:*)",
      "Bash(tasklist:*)",
      "Bash(findstr:*)",
      "Bash(ping:*)",
      "Bash(psql:*)",
      "Bash(ls:*)",
      "Bash(dir:*)",
      "WebFetch(domain:supabase.com)",
      "Bash(npx expo start:*)",
      "Bash(curl:*)",
      "Bash(powershell -Command \"Start-Sleep -Seconds 10; Invoke-WebRequest -Uri ''http://localhost:8081'' -UseBasicParsing -TimeoutSec 5 | Select-Object -ExpandProperty StatusCode\")",
      "Bash(npx tsc:*)",
      "Bash(npx expo:*)",
      "Bash(gh run list:*)",
      "Bash(powershell.exe -Command \"gh run list --workflow=daily-data-sync.yml --limit=10\")",
      "WebFetch(domain:api.github.com)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nOverhaul daily data sync pipeline for production reliability\n\nBREAKING: Delete legacy ingest.yml workflow \\(was running broken scripts\\)\n\nPipeline now includes:\n- Phase 1 \\(parallel\\): GotSport + Heartland data collection\n  - sync-gotsport: Active GotSport events\n  - sync-heartland-puppeteer: HTGSports tournaments + League calendar\n  - sync-heartland-results: CGI scraper for match SCORES \\(NEW!\\)\n- Phase 2: integrate-heartland-teams \\(create teams + link matches\\)\n- Phase 3: link-teams \\(fuzzy matching for remaining unlinked\\)\n- Phase 4: recalculate-elo \\(power ratings\\)\n- Phase 5: sync-match-counts \\(update teams.matches_played\\)\n- Phase 6: score-predictions \\(gamification\\)\n\nOptimizations:\n- npm ci with caching for faster installs\n- Parallel data collection reduces total runtime\n- Proper job dependencies ensure correct execution order\n- Output capture for pipeline visibility\n- Detailed summary report with status per job\n\nFixes #44: Daily sync was failing due to:\n1. ingest.yml still on GitHub running deleted scripts\n2. daily-data-sync.yml local changes never pushed\n3. Missing scrapeHeartlandResults.js \\(scores\\)\n4. Missing integrateHeartlandTeams.js \\(team creation\\)\n5. Missing syncMatchCounts.js \\(match history visibility\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push:*)",
      "Bash(npm install:*)",
      "Bash(npm show:*)",
      "Bash(grep:*)",
      "WebFetch(domain:soccer.sincsports.com)",
      "WebFetch(domain:nebraskasoccer.sportsaffinity.com)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nFix GitHub Actions workflow failures\n\n- scorePredictions.js: Remove .or\\(\\) query with string interpolation that\n  breaks on team names containing special characters \\(e.g., ''14B Futures\\)\n  Now uses safer direct .eq\\(\\) queries instead\n\n- captureRankSnapshot.js v2.3: Add better diagnostics for GitHub Actions\n  - Show which env vars are set/missing\n  - Add connectivity test before processing\n  - Better error messages for debugging\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git fetch:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nFix critical team-match linkage bug: birth year validation\n\nPROBLEM: 56,872 matches \\(12%\\) were linked to wrong teams due to\nprefix matching ignoring birth years. Example: \"Pre-NAL 14\" matches\nlinked to \"Pre-NAL 15\" teams.\n\nFIX: linkTeams.js v5.0 - Added birth year validation to Strategies 3&4\n- Extracts birth year from team names \\(2009-2019 or \"Pre-NAL XX\"\\)\n- Requires birth years to match before linking\n- Or allows link if NEITHER has a birth year\n\nNEW: unlinkYearMismatches.js - Cleanup script\n- Finds and unlinks matches where birth years don''t match\n- Ran cleanup: removed 56,872 incorrect links\n- Re-linked with validation: 82.6% link rate \\(vs 95% before with bad links\\)\n\nVERIFIED: Sporting BV Pre-NAL 15 now shows only 2015 birth year matches\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Read(//c/**)",
      "Bash(netstat:*)",
      "Bash(npx react-native bundle:*)",
      "Bash(gh auth status:*)",
      "Bash(git commit:*)",
      "Bash(npx supabase db execute:*)",
      "Bash(source .env)",
      "Read(//tmp/claude/c--Users-MathieuMiles-Projects-soccerview/tasks/**)",
      "Bash(where:*)",
      "Bash(cd:*)",
      "Bash(gh run view:*)",
      "Bash(for i in {1..5})",
      "Bash(do echo \"=== RUN $i ===\")",
      "Bash(do echo \"=== RUN $i/5 ===\")",
      "Bash(winget install:*)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" auth status)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" auth login --web)",
      "Bash(where.exe:*)",
      "Bash(find:*)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" repo view MGMAppDev/soccerview --json name,url)",
      "WebFetch(domain:heartlandschedules.com)",
      "Bash(npx supabase:*)",
      "Bash(git checkout:*)",
      "Bash(tail:*)",
      "WebFetch(domain:support.gotsport.com)",
      "WebFetch(domain:gifted-charts.web.app)",
      "Bash(npx eslint:*)",
      "WebFetch(domain:sportingkcyouth.com)",
      "Bash(git log:*)",
      "Bash(for f in scripts/universal/coreScraper.js scripts/universal/intakeValidator.js scripts/universal/dataQualityEngine.js scripts/maintenance/inferEventLinkage.js scripts/daily/verifyDataIntegrity.js scripts/daily/verifyAdaptiveLearning.js scripts/daily/recalculate_elo_v2.js scripts/daily/scorePredictions.js scripts/refresh_views_manual.js scripts/maintenance/ensureViewIndexes.js)",
      "Bash(do if [ -f \"$f\" ])",
      "Bash(then echo \"✅ $f\")",
      "Bash(else echo \"❌ $f MISSING\")",
      "Bash(fi)",
      "Bash(git reset:*)",
      "Bash(eas build:*)",
      "Bash(eas submit:*)",
      "Bash(pip install:*)",
      "Bash(gh api:*)",
      "WebFetch(domain:capgo.app)",
      "WebFetch(domain:www.mobileaction.co)",
      "WebFetch(domain:adapty.io)",
      "WebFetch(domain:www.luciq.ai)",
      "WebFetch(domain:medium.com)",
      "WebFetch(domain:www.kodeco.com)"
    ]
  }
}
